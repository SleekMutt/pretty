<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<head>
    <title>Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fecdd3' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      }
    </style>
</head>
<body class="bg-pink-50 min-h-screen">
<ui:include src="/WEB-INF/includes/header.xhtml"/>
<main class="container mx-auto px-4 py-8">
    <div class="space-y-8">
        <h1 class="text-4xl font-bold text-pink-600 text-center mb-8">Latest Posts</h1>
        <div >

            <h:form styleClass="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                <ui:repeat value="#{postBean.posts}" var="post">
                    <a href="#"
                       class="block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 ease-in-out">
                        <div class="p-6 border-t-4 border-pink-400">
                            <h2 class="text-xl font-semibold text-pink-600 mb-2">#{post.title}</h2>
                            <p class="text-gray-600 mb-4">#{post.content}</p>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-pink-400">#{post.formattedCreatedAt}</span>
                                <div class="space-x-2">
                                    <h:commandButton value="Edit"
                                                     styleClass="px-3 py-1 text-sm font-medium text-pink-500 bg-white border border-pink-500 rounded-md hover:bg-pink-50 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-50 transition-colors"
                                                     action="#{postBean.editPost(post.id)}"
                                    >

                                    </h:commandButton>
                                    <h:commandButton value="Delete" action="#{postBean.deletePost(post.id)}"
                                                     styleClass="px-3 py-1 text-sm font-medium text-white bg-red-500 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-colors">
                                        <f:ajax render="@form"/>
                                    </h:commandButton>
                                </div>
                            </div>
                        </div>
                    </a>
                </ui:repeat>
            </h:form>
        </div>
        <div class="flex justify-center mt-12">
            <div class="w-32 h-1 bg-pink-300 rounded-full"></div>
        </div>
    </div>
</main>
</body>
</html>
